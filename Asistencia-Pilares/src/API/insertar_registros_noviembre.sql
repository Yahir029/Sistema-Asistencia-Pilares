-- Script CORREGIDO para insertar registros de asistencia del 24 al 28 de noviembre 2025
-- Usando TimeSpan (formato HH:MM:SS) en lugar de DateTime completo

-- ============================================
-- LUNES 24 DE NOVIEMBRE 2025
-- ============================================

-- Turno 8am-3pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'BD32C778-BBFB-437B-9E7C-8D7F3676B44F', '2025-11-24', '07:58:00', '15:05:00'),
(lower(hex(randomblob(16))), 'B1A2E52D-7CF4-431D-84D4-738EC170C746', '2025-11-24', '08:03:00', '14:57:00'),
(lower(hex(randomblob(16))), 'C8CB4358-AD77-4AF6-B671-00E6FE1D0686', '2025-11-24', '08:07:00', '15:12:00');

-- Turno 1pm-8pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'A6E8BD14-728B-4B62-9B3D-0459FB347F8E', '2025-11-24', '13:02:00', '20:08:00'),
(lower(hex(randomblob(16))), '2B937D16-6600-4611-B5EA-1A03CBC852E3', '2025-11-24', '12:57:00', '19:53:00');

-- Turno 10am-5pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), '48B32290-BF72-46C9-979D-17979C3031D5', '2025-11-24', '10:04:00', '17:02:00'),
(lower(hex(randomblob(16))), 'C7F9FB8B-DF87-4E75-BC27-507A6096826D', '2025-11-24', '09:59:00', '16:55:00');

-- ============================================
-- MARTES 25 DE NOVIEMBRE 2025
-- ============================================

-- Turno 8am-3pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'BD32C778-BBFB-437B-9E7C-8D7F3676B44F', '2025-11-25', '08:01:00', '15:03:00'),
(lower(hex(randomblob(16))), 'B1A2E52D-7CF4-431D-84D4-738EC170C746', '2025-11-25', '07:56:00', '14:58:00'),
(lower(hex(randomblob(16))), 'C8CB4358-AD77-4AF6-B671-00E6FE1D0686', '2025-11-25', '08:05:00', '15:09:00');

-- Turno 1pm-8pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'A6E8BD14-728B-4B62-9B3D-0459FB347F8E', '2025-11-25', '13:05:00', '20:02:00'),
(lower(hex(randomblob(16))), '2B937D16-6600-4611-B5EA-1A03CBC852E3', '2025-11-25', '13:03:00', '19:57:00');

-- Turno 10am-5pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), '48B32290-BF72-46C9-979D-17979C3031D5', '2025-11-25', '10:07:00', '17:08:00'),
(lower(hex(randomblob(16))), 'C7F9FB8B-DF87-4E75-BC27-507A6096826D', '2025-11-25', '10:02:00', '16:59:00');

-- ============================================
-- MIÉRCOLES 26 DE NOVIEMBRE 2025
-- ============================================

-- Turno 8am-3pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'BD32C778-BBFB-437B-9E7C-8D7F3676B44F', '2025-11-26', '08:06:00', '15:12:00'),
(lower(hex(randomblob(16))), 'B1A2E52D-7CF4-431D-84D4-738EC170C746', '2025-11-26', '08:02:00', '15:07:00'),
(lower(hex(randomblob(16))), 'C8CB4358-AD77-4AF6-B671-00E6FE1D0686', '2025-11-26', '07:59:00', '15:04:00');

-- Turno 1pm-8pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'A6E8BD14-728B-4B62-9B3D-0459FB347F8E', '2025-11-26', '12:58:00', '20:05:00'),
(lower(hex(randomblob(16))), '2B937D16-6600-4611-B5EA-1A03CBC852E3', '2025-11-26', '13:01:00', '20:10:00');

-- Turno 10am-5pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), '48B32290-BF72-46C9-979D-17979C3031D5', '2025-11-26', '10:03:00', '17:01:00'),
(lower(hex(randomblob(16))), 'C7F9FB8B-DF87-4E75-BC27-507A6096826D', '2025-11-26', '09:58:00', '17:03:00');

-- ============================================
-- JUEVES 27 DE NOVIEMBRE 2025
-- ============================================

-- Turno 8am-3pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'BD32C778-BBFB-437B-9E7C-8D7F3676B44F', '2025-11-27', '07:59:00', '14:56:00'),
(lower(hex(randomblob(16))), 'B1A2E52D-7CF4-431D-84D4-738EC170C746', '2025-11-27', '08:04:00', '15:02:00'),
(lower(hex(randomblob(16))), 'C8CB4358-AD77-4AF6-B671-00E6FE1D0686', '2025-11-27', '08:06:00', '15:11:00');

-- Turno 1pm-8pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'A6E8BD14-728B-4B62-9B3D-0459FB347F8E', '2025-11-27', '13:04:00', '19:59:00'),
(lower(hex(randomblob(16))), '2B937D16-6600-4611-B5EA-1A03CBC852E3', '2025-11-27', '12:59:00', '20:04:00');

-- Turno 10am-5pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), '48B32290-BF72-46C9-979D-17979C3031D5', '2025-11-27', '10:05:00', '17:06:00'),
(lower(hex(randomblob(16))), 'C7F9FB8B-DF87-4E75-BC27-507A6096826D', '2025-11-27', '10:01:00', '16:57:00');

-- ============================================
-- VIERNES 28 DE NOVIEMBRE 2025
-- ============================================

-- Turno 8am-3pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'BD32C778-BBFB-437B-9E7C-8D7F3676B44F', '2025-11-28', '08:02:00', '15:08:00'),
(lower(hex(randomblob(16))), 'B1A2E52D-7CF4-431D-84D4-738EC170C746', '2025-11-28', '07:57:00', '15:04:00'),
(lower(hex(randomblob(16))), 'C8CB4358-AD77-4AF6-B671-00E6FE1D0686', '2025-11-28', '08:03:00', '15:06:00');

-- Turno 1pm-8pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), 'A6E8BD14-728B-4B62-9B3D-0459FB347F8E', '2025-11-28', '13:06:00', '20:01:00'),
(lower(hex(randomblob(16))), '2B937D16-6600-4611-B5EA-1A03CBC852E3', '2025-11-28', '13:02:00', '19:56:00');

-- Turno 10am-5pm
INSERT INTO RegistrosAsistencia (Id, EmpleadoId, Fecha, HoraEntrada, HoraSalida)
VALUES 
(lower(hex(randomblob(16))), '48B32290-BF72-46C9-979D-17979C3031D5', '2025-11-28', '10:06:00', '17:04:00'),
(lower(hex(randomblob(16))), 'C7F9FB8B-DF87-4E75-BC27-507A6096826D', '2025-11-28', '10:03:00', '17:07:00');

-- ============================================
-- VERIFICACIÓN
-- ============================================
SELECT 'Total de registros insertados:' as Info, COUNT(*) as Cantidad FROM RegistrosAsistencia;

SELECT e.Nombre, COUNT(r.Id) as "Días trabajados"
FROM Empleados e
LEFT JOIN RegistrosAsistencia r ON e.Id = r.EmpleadoId
WHERE e.Nombre != 'Administrador del Sistema'
GROUP BY e.Nombre
ORDER BY e.Nombre;
